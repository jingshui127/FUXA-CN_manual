# 🎛️ FUXA 控件绑定教程

---

## 📋 概述

控件绑定功能允许您将控件与设备标签（变量）关联，实现数据的显示、输入和控制。

---

## 🎯 绑定输出控件

### 步骤 1：选择视图

进入编辑器并选择要绑定控件的视图。

### 步骤 2：添加输出控件

在视图中添加输出控件（如文本框、指示灯等）。

### 步骤 3：配置绑定

在属性面板中配置输出控件绑定：

| 配置项 | 说明 | 示例 |
|--------|------|------|
| **标签 ID** | 要绑定的标签 ID | temperature, pressure |
| **显示值** | 是否显示标签值 | 是/否 |
| **单位** | 显示单位 | °C, bar, % |
| **小数位数** | 显示小数位数 | 2 |
| **格式** | 显示格式 | {value}, {value}°C |

![绑定输出控件](images/fuxa-output-control.gif)

### 配置示例

```javascript
// 输出控件绑定配置
{
  "type": "text",
  "tagId": "temperature",
  "text": "温度: {value}°C",
  "decimals": 1,
  "unit": "°C"
}
```

---

## 🎯 绑定输入控件

### 步骤 1：选择视图

进入编辑器并选择要绑定控件的视图。

### 步骤 2：添加输入控件

在视图中添加输入控件（如文本输入框、数字输入框等）。

### 步骤 3：配置绑定

在属性面板中配置输入控件绑定：

| 配置项 | 说明 | 示例 |
|--------|------|------|
| **标签 ID** | 要绑定的标签 ID | targetValue |
| **最小值** | 最小值 | 0 |
| **最大值** | 最大值 | 100 |
| **单位** | 显示单位 | % |
| **小数位数** | 输入小数位数 | 0 |

![绑定输入控件](images/fuxa-input-control.gif)

### 配置示例

```javascript
// 输入控件绑定配置
{
  "type": "input",
  "tagId": "targetValue",
  "label": "目标值",
  "unit": "%",
  "min": 0,
  "max": 100,
  "decimals": 0
}
```

---

## 🎯 绑定选择控件

### 步骤 1：选择视图

进入编辑器并选择要绑定控件的视图。

### 步骤 2：添加选择控件

在视图中添加选择控件（如下拉列表、单选按钮等）。

### 步骤 3：配置绑定

在属性面板中配置选择控件绑定：

| 配置项 | 说明 | 示例 |
|--------|------|------|
| **标签 ID** | 要绑定的标签 ID | mode |
| **选项** | 可选值 | 自动, 手动, 停止 |
| **默认值** | 默认值 | 自动 |

![绑定选择控件](images/fuxa-select-control.gif)

### 配置示例

```javascript
// 选择控件绑定配置
{
  "type": "select",
  "tagId": "mode",
  "label": "运行模式",
  "options": [
    {
      "label": "自动",
      "value": 0
    },
    {
      "label": "手动",
      "value": 1
    },
    {
      "label": "停止",
      "value": 2
    }
  ],
  "defaultValue": 0
}
```

---

## 🎯 绑定滑块控件

### 步骤 1：选择视图

进入编辑器并选择要绑定控件的视图。

### 步骤 2：添加滑块控件

在视图中添加滑块控件。

### 步骤 3：配置绑定

在属性面板中配置滑块控件绑定：

| 配置项 | 说明 | 示例 |
|--------|------|------|
| **标签 ID** | 要绑定的标签 ID | valvePosition |
| **最小值** | 最小值 | 0 |
| **最大值** | 最大值 | 100 |
| **单位** | 显示单位 | % |
| **步长** | 步长 | 1 |

![绑定滑块控件](images/fuxa-slider-control.gif)

### 配置示例

```javascript
// 滑块控件绑定配置
{
  "type": "slider",
  "tagId": "valvePosition",
  "label": "阀门位置",
  "unit": "%",
  "min": 0,
  "max": 100,
  "step": 1
}
```

---

## 💡 完整示例

### 示例 1：温度控制面板

```javascript
// 温度控制面板
{
  "view": "TemperatureControlPanel",
  "controls": [
    {
      "type": "text",
      "tagId": "currentTemperature",
      "text": "当前温度: {value}°C",
      "decimals": 1,
      "unit": "°C"
    },
    {
      "type": "input",
      "tagId": "targetTemperature",
      "label": "目标温度",
      "unit": "°C",
      "min": 0,
      "max": 100,
      "decimals": 1
    },
    {
      "type": "button",
      "text": "设置",
      "events": [
        {
          "type": "click",
          "action": "Set Value",
          "tagId": "targetTemperature"
        }
      ]
    }
  ]
}
```

### 示例 2：泵控制面板

```javascript
// 泵控制面板
{
  "view": "PumpControlPanel",
  "controls": [
    {
      "type": "text",
      "tagId": "pumpStatus",
      "text": "泵状态: {value}",
      "format": {
        "0": "停止",
        "1": "运行"
      }
    },
    {
      "type": "button",
      "text": "启动",
      "events": [
        {
          "type": "click",
          "action": "Set Value",
          "tagId": "pumpStatus",
          "value": 1
        }
      ]
    },
    {
      "type": "button",
      "text": "停止",
      "events": [
        {
          "type": "click",
          "action": "Set Value",
          "tagId": "pumpStatus",
          "value": 0
        }
      ]
    },
    {
      "type": "slider",
      "tagId": "pumpSpeed",
      "label": "泵速",
      "unit": "%",
      "min": 0,
      "max": 100,
      "step": 1
    }
  ]
}
```

### 示例 3：模式选择面板

```javascript
// 模式选择面板
{
  "view": "ModeSelectionPanel",
  "controls": [
    {
      "type": "text",
      "tagId": "currentMode",
      "text": "当前模式: {value}",
      "format": {
        "0": "自动",
        "1": "手动",
        "2": "停止"
      }
    },
    {
      "type": "select",
      "tagId": "mode",
      "label": "运行模式",
      "options": [
        {
          "label": "自动",
          "value": 0
        },
        {
          "label": "手动",
          "value": 1
        },
        {
          "label": "停止",
          "value": 2
        }
      ],
      "defaultValue": 0
    }
  ]
}
```

### 示例 4：阀门控制面板

```javascript
// 阀门控制面板
{
  "view": "ValveControlPanel",
  "controls": [
    {
      "type": "text",
      "tagId": "valvePosition",
      "text": "阀门位置: {value}%",
      "decimals": 0,
      "unit": "%"
    },
    {
      "type": "slider",
      "tagId": "valvePosition",
      "label": "阀门位置",
      "unit": "%",
      "min": 0,
      "max": 100,
      "step": 1
    },
    {
      "type": "button",
      "text": "全开",
      "events": [
        {
          "type": "click",
          "action": "Set Value",
          "tagId": "valvePosition",
          "value": 100
        }
      ]
    },
    {
      "type": "button",
      "text": "全关",
      "events": [
        {
          "type": "click",
          "action": "Set Value",
          "tagId": "valvePosition",
          "value": 0
        }
      ]
    }
  ]
}
```

---

## 🔧 故障排除

### 常见问题

#### ❓ 控件不显示值

**可能原因**：
- 标签 ID 错误
- 标签未绑定
- 标签未更新

**解决方案**：
1. 检查标签 ID
2. 确认标签是否绑定
3. 验证标签是否更新

---

#### ❓ 输入不生效

**可能原因**：
- 标签 ID 错误
- 权限不足
- 值超出范围

**解决方案**：
1. 检查标签 ID
2. 验证用户权限
3. 确认值是否在范围内

---

#### ❓ 滑块不移动

**可能原因**：
- 标签 ID 错误
- 标签未更新
- 滑块配置错误

**解决方案**：
1. 检查标签 ID
2. 确认标签是否更新
3. 验证滑块配置

---

## 📚 最佳实践

### 1️⃣ 控件布局

- 合理安排控件位置
- 保持界面整洁
- 提供清晰的标签

### 2️⃣ 输入验证

- 设置合理的最小值和最大值
- 验证输入格式
- 提供错误提示

### 3️⃣ 用户体验

- 提供直观的界面
- 显示当前值
- 提供确认按钮

### 4️⃣ 性能优化

- 避免频繁更新
- 优化刷新频率
- 减少不必要的计算

---

## 🎉 总结

通过本教程，您已经学会了：

✅ 绑定输出控件  
✅ 绑定输入控件  
✅ 绑定选择控件  
✅ 绑定滑块控件  
✅ 应用完整示例  
✅ 故障排除  
✅ 应用最佳实践  

现在您可以在 FUXA 中绑定控件到标签了！

---

## 📚 快速参考

### 控件类型对照表

| 控件类型 | 说明 | 应用场景 |
|----------|------|----------|
| **text** | 文本显示 | 显示标签值 |
| **input** | 文本输入 | 输入标签值 |
| **select** | 下拉选择 | 选择模式或选项 |
| **slider** | 滑块 | 调节数值 |
| **button** | 按钮 | 执行操作 |

---

> 💡 **提示**：建议在实际应用中为每个控件提供清晰的标签和单位，使用户能够快速理解控件的用途。

---

**关注我们，获取更多工业自动化技术干货！** 🎯

<div style="display: flex; justify-content: center; align-items: center; gap: 40px; margin: 30px 0;">
    <div style="text-align: center;">
        <img src="images/微信公众号.jpg" alt="微信公众号" style="width: 200px; height: 200px; object-fit: contain;">
        <p style="margin: 10px 0 0 0; font-size: 14px; color: #666;">微信公众号</p>
    </div>
    <div style="text-align: center;">
        <img src="images/单人二维码.png" alt="技术支持" style="width: 200px; height: 200px; object-fit: contain;">
        <p style="margin: 10px 0 0 0; font-size: 14px; color: #666;">技术支持</p>
    </div>
</div>


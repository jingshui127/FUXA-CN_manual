<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FUXA å®Œæ•´æ±‰åŒ–æ–‡æ¡£</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Microsoft YaHei", sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 320px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            padding: 20px;
            overflow-y: auto;
            position: fixed;
            height: 100vh;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .sidebar h1 {
            font-size: 24px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            text-align: center;
        }

        .search-box {
            margin-bottom: 20px;
        }

        .search-box input {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 25px;
            font-size: 14px;
            background: rgba(255,255,255,0.2);
            color: #fff;
            outline: none;
            transition: background 0.3s;
        }

        .search-box input::placeholder {
            color: rgba(255,255,255,0.7);
        }

        .search-box input:focus {
            background: rgba(255,255,255,0.3);
        }

        .nav-menu {
            list-style: none;
        }

        .nav-category {
            font-weight: bold;
            color: rgba(255,255,255,0.8);
            margin: 20px 0 10px 0;
            padding-left: 10px;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .nav-item {
            padding: 12px 15px;
            cursor: pointer;
            border-radius: 8px;
            margin-bottom: 5px;
            transition: all 0.3s;
            font-size: 14px;
        }

        .nav-item:hover {
            background: rgba(255,255,255,0.2);
            transform: translateX(5px);
        }

        .nav-item.active {
            background: rgba(255,255,255,0.3);
            font-weight: bold;
        }

        .main-content {
            flex: 1;
            margin-left: 320px;
            padding: 40px;
            background: #fff;
            max-width: 1200px;
        }

        .content-section {
            display: none;
            animation: fadeIn 0.3s ease-in;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .content-section h1 {
            color: #667eea;
            border-bottom: 3px solid #667eea;
            padding-bottom: 15px;
            margin-bottom: 30px;
            font-size: 32px;
        }

        .content-section h2 {
            color: #764ba2;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-left: 15px;
            border-left: 4px solid #667eea;
            font-size: 24px;
        }

        .content-section h3 {
            color: #333;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 20px;
        }

        .content-section p {
            margin-bottom: 15px;
            line-height: 1.8;
            color: #555;
        }

        .content-section ul, .content-section ol {
            margin: 15px 0 15px 30px;
            color: #555;
        }

        .content-section li {
            margin-bottom: 8px;
        }

        .content-section table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        .content-section th, .content-section td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .content-section th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            font-weight: bold;
            text-transform: uppercase;
            font-size: 12px;
            letter-spacing: 0.5px;
        }

        .content-section tr:hover {
            background: #f8f9fa;
        }

        .content-section pre {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .content-section code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #e74c3c;
            font-size: 0.9em;
        }

        .content-section pre code {
            background: none;
            color: inherit;
            padding: 0;
            font-size: 14px;
        }

        .content-section img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            margin: 20px 0;
        }

        .content-section blockquote {
            border-left: 4px solid #667eea;
            padding: 15px 20px;
            margin: 20px 0;
            background: linear-gradient(135deg, rgba(102,126,234,0.1) 0%, rgba(118,75,162,0.1) 100%);
            color: #555;
            border-radius: 0 8px 8px 0;
        }

        .content-section hr {
            border: none;
            border-top: 2px solid #eee;
            margin: 40px 0;
        }

        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            text-align: center;
            line-height: 50px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            display: none;
            transition: all 0.3s;
            font-size: 24px;
            z-index: 1000;
        }

        .back-to-top:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.3);
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #999;
        }

        .loading::after {
            content: "åŠ è½½ä¸­...";
            animation: dots 1.5s infinite;
        }

        @keyframes dots {
            0%, 20% { content: "åŠ è½½ä¸­."; }
            40% { content: "åŠ è½½ä¸­.."; }
            60%, 100% { content: "åŠ è½½ä¸­..."; }
        }

        .highlight {
            background: #fff3cd;
            padding: 2px 6px;
            border-radius: 3px;
        }

        .success {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #28a745;
        }

        .warning {
            background: #fff3cd;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #ffc107;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #dc3545;
        }

        .info {
            background: #d1ecf1;
            color: #0c5460;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #17a2b8;
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
            }

            .main-content {
                margin-left: 0;
                padding: 20px;
            }

            .content-section h1 {
                font-size: 24px;
            }

            .content-section h2 {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h1>ğŸ“š FUXA æ–‡æ¡£</h1>
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="ğŸ” æœç´¢æ–‡æ¡£...">
            </div>
            <ul class="nav-menu" id="navMenu">
                <li class="nav-category">ğŸ“– åŸºç¡€æ•™ç¨‹</li>
                <li class="nav-item active" data-section="01">01-ä¸»é¡µä»‹ç»</li>
                <li class="nav-item" data-section="02">02-å¿«é€Ÿå…¥é—¨æŒ‡å—</li>
                <li class="nav-item" data-section="03">03-å®‰è£…å’Œè¿è¡ŒæŒ‡å—</li>
                <li class="nav-item" data-section="04">04-è®¾å¤‡å’Œæ ‡ç­¾é…ç½®</li>
                <li class="nav-item" data-section="05">05-ç»„ä»¶å¼€å‘æ•™ç¨‹</li>
                <li class="nav-item" data-section="06">06-é«˜çº§åŠŸèƒ½é…ç½®</li>
                <li class="nav-item" data-section="07">07-ç³»ç»Ÿè®¾ç½®ä¸ä½¿ç”¨æŠ€å·§</li>
                
                <li class="nav-category">ğŸ”Œ é›†æˆæ•™ç¨‹</li>
                <li class="nav-item" data-section="08">08-Node-REDé›†æˆæ•™ç¨‹</li>
                <li class="nav-item" data-section="09">09-ODBCæ•°æ®åº“é›†æˆæ•™ç¨‹</li>
                
                <li class="nav-category">âš™ï¸ åŠŸèƒ½æ•™ç¨‹</li>
                <li class="nav-item" data-section="10">10-è°ƒåº¦å™¨ä½¿ç”¨æ•™ç¨‹</li>
                <li class="nav-item" data-section="11">11-è§†å›¾ç®¡ç†æ•™ç¨‹</li>
                <li class="nav-item" data-section="12">12-WebSocketé€šä¿¡æ•™ç¨‹</li>
                <li class="nav-item" data-section="13">13-å›¾è¡¨æ§åˆ¶æ•™ç¨‹</li>
                <li class="nav-item" data-section="14">14-UIå¸ƒå±€è®¾ç½®æ•™ç¨‹</li>
                <li class="nav-item" data-section="15">15-ç®¡é“åŠ¨ç”»æ•™ç¨‹</li>
                
                <li class="nav-category">ğŸ¯ é«˜çº§æ•™ç¨‹</li>
                <li class="nav-item" data-section="20">20-ç³»ç»Ÿé…ç½®æ•™ç¨‹</li>
                <li class="nav-item" data-section="21">21-è§†å›¾å¤ç”¨æ•™ç¨‹</li>
                <li class="nav-item" data-section="22">22-æŠ¥è­¦é…ç½®æ•™ç¨‹</li>
                <li class="nav-item" data-section="23">23-é¡¹ç›®ç®¡ç†æ•™ç¨‹</li>
                <li class="nav-item" data-section="24">24-è‡ªå®šä¹‰å½¢çŠ¶å®šä¹‰æ•™ç¨‹</li>
                <li class="nav-item" data-section="25">25-è„šæœ¬é…ç½®æ•™ç¨‹</li>
                <li class="nav-item" data-section="26">26-äº‹ä»¶é…ç½®æ•™ç¨‹</li>
                
                <li class="nav-category">ğŸ¨ ç»‘å®šå’Œå¼€å‘</li>
                <li class="nav-item" data-section="27">27-å½¢çŠ¶ç»‘å®šæ•™ç¨‹</li>
                <li class="nav-item" data-section="28">28-æ§ä»¶ç»‘å®šæ•™ç¨‹</li>
                <li class="nav-item" data-section="29">29-å°ç»„ä»¶å¼€å‘æ•™ç¨‹</li>
                <li class="nav-item" data-section="30">30-è§†å›¾åˆ›å»ºæ•™ç¨‹</li>
                
                <li class="nav-category">ğŸ’¡ æŠ€å·§æ•™ç¨‹</li>
                <li class="nav-item" data-section="31">31-ç¼–è¾‘å™¨å¿«æ·é”®æŠ€å·§</li>
            </ul>
        </div>

        <div class="main-content" id="mainContent">
            <div class="loading"></div>
        </div>
    </div>

    <div class="back-to-top" id="backToTop">â†‘</div>

    <script>
        // æ–‡æ¡£æ˜ å°„
        const documentFiles = {
            '01': '01-ä¸»é¡µä»‹ç».md',
            '02': '02-å¿«é€Ÿå…¥é—¨æŒ‡å—.md',
            '03': '03-å®‰è£…å’Œè¿è¡ŒæŒ‡å—.md',
            '04': '04-è®¾å¤‡å’Œæ ‡ç­¾é…ç½®.md',
            '05': '05-ç»„ä»¶å¼€å‘æ•™ç¨‹.md',
            '06': '06-é«˜çº§åŠŸèƒ½é…ç½®.md',
            '07': '07-ç³»ç»Ÿè®¾ç½®ä¸ä½¿ç”¨æŠ€å·§.md',
            '08': '08-Node-REDé›†æˆæ•™ç¨‹.md',
            '09': '09-ODBCæ•°æ®åº“é›†æˆæ•™ç¨‹.md',
            '10': '10-è°ƒåº¦å™¨ä½¿ç”¨æ•™ç¨‹.md',
            '11': '11-è§†å›¾ç®¡ç†æ•™ç¨‹.md',
            '12': '12-WebSocketé€šä¿¡æ•™ç¨‹.md',
            '13': '13-å›¾è¡¨æ§åˆ¶æ•™ç¨‹.md',
            '14': '14-UIå¸ƒå±€è®¾ç½®æ•™ç¨‹.md',
            '15': '15-ç®¡é“åŠ¨ç”»æ•™ç¨‹.md',
            '20': '20-ç³»ç»Ÿé…ç½®æ•™ç¨‹.md',
            '21': '21-è§†å›¾å¤ç”¨æ•™ç¨‹.md',
            '22': '22-æŠ¥è­¦é…ç½®æ•™ç¨‹.md',
            '23': '23-é¡¹ç›®ç®¡ç†æ•™ç¨‹.md',
            '24': '24-è‡ªå®šä¹‰å½¢çŠ¶å®šä¹‰æ•™ç¨‹.md',
            '25': '25-è„šæœ¬é…ç½®æ•™ç¨‹.md',
            '26': '26-äº‹ä»¶é…ç½®æ•™ç¨‹.md',
            '27': '27-å½¢çŠ¶ç»‘å®šæ•™ç¨‹.md',
            '28': '28-æ§ä»¶ç»‘å®šæ•™ç¨‹.md',
            '29': '29-å°ç»„ä»¶å¼€å‘æ•™ç¨‹.md',
            '30': '30-è§†å›¾åˆ›å»ºæ•™ç¨‹.md',
            '31': '31-ç¼–è¾‘å™¨å¿«æ·é”®æŠ€å·§.md'
        };

        let currentSection = '01';
        let loadedDocuments = {};

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            loadDocument('01');
            setupEventListeners();
        });

        // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
        function setupEventListeners() {
            // å¯¼èˆªèœå•ç‚¹å‡»
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    const section = this.getAttribute('data-section');
                    switchSection(section);
                });
            });

            // æœç´¢åŠŸèƒ½
            const searchInput = document.getElementById('searchInput');
            searchInput.addEventListener('input', function() {
                const query = this.value.toLowerCase();
                filterDocuments(query);
            });

            // è¿”å›é¡¶éƒ¨
            const backToTop = document.getElementById('backToTop');
            window.addEventListener('scroll', function() {
                if (window.scrollY > 300) {
                    backToTop.style.display = 'block';
                } else {
                    backToTop.style.display = 'none';
                }
            });

            backToTop.addEventListener('click', function() {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        // åˆ‡æ¢æ–‡æ¡£
        function switchSection(section) {
            if (currentSection === section) return;
            
            currentSection = section;
            
            // æ›´æ–°å¯¼èˆªèœå•
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-section') === section) {
                    item.classList.add('active');
                }
            });

            // åŠ è½½æ–‡æ¡£
            loadDocument(section);
        }

        // åŠ è½½æ–‡æ¡£
        async function loadDocument(section) {
            const mainContent = document.getElementById('mainContent');
            const fileName = documentFiles[section];
            
            if (!fileName) {
                mainContent.innerHTML = '<div class="error">æ–‡æ¡£æœªæ‰¾åˆ°</div>';
                return;
            }

            // å¦‚æœå·²åŠ è½½ï¼Œç›´æ¥æ˜¾ç¤º
            if (loadedDocuments[fileName]) {
                mainContent.innerHTML = loadedDocuments[fileName];
                window.scrollTo({ top: 0, behavior: 'smooth' });
                return;
            }

            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            mainContent.innerHTML = '<div class="loading"></div>';

            try {
                // å°è¯•ä»æœ¬åœ°æ–‡ä»¶ç³»ç»ŸåŠ è½½
                const response = await fetch(fileName);
                if (!response.ok) {
                    throw new Error('æ–‡æ¡£åŠ è½½å¤±è´¥');
                }
                
                const markdown = await response.text();
                const html = convertMarkdownToHtml(markdown);
                
                // ç¼“å­˜æ–‡æ¡£
                loadedDocuments[fileName] = html;
                
                // æ˜¾ç¤ºæ–‡æ¡£
                mainContent.innerHTML = html;
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
            } catch (error) {
                console.error('åŠ è½½æ–‡æ¡£å¤±è´¥:', error);
                mainContent.innerHTML = `
                    <div class="error">
                        <h3>æ–‡æ¡£åŠ è½½å¤±è´¥</h3>
                        <p>æ— æ³•åŠ è½½æ–‡æ¡£: ${fileName}</p>
                        <p>é”™è¯¯ä¿¡æ¯: ${error.message}</p>
                        <p>è¯·ç¡®ä¿æ–‡æ¡£æ–‡ä»¶å­˜åœ¨äºæ­£ç¡®çš„ä½ç½®ã€‚</p>
                    </div>
                `;
            }
        }

        // ç®€å•çš„ Markdown è½¬ HTML è½¬æ¢å™¨
        function convertMarkdownToHtml(markdown) {
            let html = markdown;

            // è½¬æ¢æ ‡é¢˜
            html = html.replace(/^# (.*$)/gim, '<h1>$1</h1>');
            html = html.replace(/^## (.*$)/gim, '<h2>$1</h2>');
            html = html.replace(/^### (.*$)/gim, '<h3>$1</h3>');
            html = html.replace(/^#### (.*$)/gim, '<h4>$1</h4>');

            // è½¬æ¢è¡¨æ ¼
            html = html.replace(/\|(.+)\|/gim, function(match) {
                const cells = match.split('|').filter(cell => cell.trim());
                if (cells.some(cell => cell.includes('---'))) {
                    return ''; // è·³è¿‡è¡¨æ ¼åˆ†éš”è¡Œ
                }
                const cellHtml = cells.map(cell => `<td>${cell.trim()}</td>`).join('');
                return `<tr>${cellHtml}</tr>`;
            });

            // è½¬æ¢ä»£ç å—
            html = html.replace(/```(\w+)?\n([\s\S]*?)```/gim, '<pre><code>$2</code></pre>');
            html = html.replace(/`([^`]+)`/gim, '<code>$1</code>');

            // è½¬æ¢å›¾ç‰‡
            html = html.replace(/!\[([^\]]*)\]\(([^)]+)\)/gim, '<img src="$2" alt="$1">');

            // è½¬æ¢é“¾æ¥
            html = html.replace(/\[([^\]]+)\]\(([^)]+)\)/gim, '<a href="$2" target="_blank">$1</a>');

            // è½¬æ¢ç²—ä½“
            html = html.replace(/\*\*([^*]+)\*\*/gim, '<strong>$1</strong>');

            // è½¬æ¢æ–œä½“
            html = html.replace(/\*([^*]+)\*/gim, '<em>$1</em>');

            // è½¬æ¢åˆ—è¡¨
            html = html.replace(/^\- (.*)$/gim, '<li>$1</li>');
            html = html.replace(/^\d+\. (.*)$/gim, '<li>$1</li>');

            // è½¬æ¢å¼•ç”¨
            html = html.replace(/^> (.*)$/gim, '<blockquote>$1</blockquote>');

            // è½¬æ¢æ°´å¹³çº¿
            html = html.replace(/^---$/gim, '<hr>');

            // è½¬æ¢æ®µè½
            html = html.replace(/\n\n/g, '</p><p>');
            html = '<p>' + html + '</p>';

            // æ¸…ç†ç©ºæ®µè½
            html = html.replace(/<p>\s*<\/p>/g, '');

            // ä¿®å¤è¡¨æ ¼
            html = html.replace(/(<tr>.*<\/tr>\s*)+/g, function(match) {
                return '<table>' + match + '</table>';
            });

            // ä¿®å¤åˆ—è¡¨
            html = html.replace(/(<li>.*<\/li>\s*)+/g, function(match) {
                return '<ul>' + match + '</ul>';
            });

            return html;
        }

        // è¿‡æ»¤æ–‡æ¡£
        function filterDocuments(query) {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                const text = item.textContent.toLowerCase();
                if (text.includes(query)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }
    </script>
</body>
</html>

# 🔧 FUXA 系统配置教程

---

## 📋 概述

系统配置允许您自定义 FUXA 的各种设置，包括常规设置、认证设置、邮件设置、数据库设置等。

---

## 🎯 访问系统配置

### 步骤 1：打开编辑器

进入 FUXA 编辑器界面。

### 步骤 2：进入系统设置

点击编辑器中的 **"Settings"**（设置）→ **"System"**（系统）。

![系统设置](images/setup-system.png)

---

## ⚙️ 常规设置

### 基本配置

| 设置项 | 说明 | 推荐值 |
|--------|------|--------|
| **应用名称** | 应用程序的名称 | FUXA |
| **主题** | 界面主题 | 深色/浅色 |
| **语言** | 界面语言 | 中文 |
| **时区** | 系统时区 | Asia/Shanghai |

### 高级配置

| 设置项 | 说明 | 推荐值 |
|--------|------|--------|
| **启用调试** | 启用调试模式 | false（生产环境） |
| **日志级别** | 日志记录级别 | INFO |
| **会话超时** | 会话超时时间（分钟） | 30 |
| **最大会话数** | 最大并发会话数 | 10 |

---

## 🔐 认证设置

### 启用认证

FUXA 支持多种认证方式：

| 认证方式 | 说明 | 应用场景 |
|----------|------|----------|
| **无认证** | 不需要登录 | 开发环境 |
| **本地认证** | 使用本地用户 | 小型系统 |
| **LDAP 认证** | 使用 LDAP 服务器 | 企业环境 |
| **OAuth2 认证** | 使用 OAuth2 提供商 | 云应用 |

### 本地认证配置

```javascript
// 用户配置
{
  "users": [
    {
      "username": "admin",
      "password": "admin123",
      "role": "admin",
      "permissions": ["read", "write", "admin"]
    },
    {
      "username": "operator",
      "password": "operator123",
      "role": "operator",
      "permissions": ["read", "write"]
    },
    {
      "username": "viewer",
      "password": "viewer123",
      "role": "viewer",
      "permissions": ["read"]
    }
  ]
}
```

### LDAP 认证配置

```javascript
// LDAP 配置
{
  "ldap": {
    "url": "ldap://ldap.example.com",
    "bindDN": "cn=admin,dc=example,dc=com",
    "bindCredentials": "password",
    "searchBase": "ou=users,dc=example,dc=com",
    "searchFilter": "(uid={{username}})",
    "userAttributes": {
      "username": "uid",
      "email": "mail",
      "displayName": "cn"
    }
  }
}
```

---

## 📧 邮件设置

### SMTP 配置

| 设置项 | 说明 | 示例 |
|--------|------|------|
| **SMTP 服务器** | SMTP 服务器地址 | smtp.example.com |
| **端口** | SMTP 端口 | 587 |
| **用户名** | SMTP 用户名 | user@example.com |
| **密码** | SMTP 密码 | password |
| **发件人** | 发件人地址 | noreply@example.com |
| **启用 SSL** | 是否启用 SSL | true |

### 配置示例

```javascript
// 邮件配置
{
  "mail": {
    "host": "smtp.example.com",
    "port": 587,
    "secure": false,
    "auth": {
      "user": "user@example.com",
      "pass": "password"
    },
    "from": "noreply@example.com",
    "tls": {
      "rejectUnauthorized": false
    }
  }
}
```

### 邮件通知

FUXA 可以通过邮件发送以下通知：

- 报警通知
- 系统警告
- 定期报告
- 用户操作日志

---

## 🗄️ 数据库设置

### 支持的数据库

| 数据库 | 说明 | 应用场景 |
|--------|------|----------|
| **SQLite** | 轻量级数据库 | 小型系统 |
| **MySQL** | 关系型数据库 | 中型系统 |
| **PostgreSQL** | 高级关系型数据库 | 大型系统 |
| **MongoDB** | 文档型数据库 | 需要灵活数据结构 |

### SQLite 配置

```javascript
// SQLite 配置
{
  "database": {
    "type": "sqlite",
    "path": "./data/fuxa.db"
  }
}
```

### MySQL 配置

```javascript
// MySQL 配置
{
  "database": {
    "type": "mysql",
    "host": "localhost",
    "port": 3306,
    "username": "fuxa",
    "password": "password",
    "database": "fuxa",
    "connectionLimit": 10
  }
}
```

### PostgreSQL 配置

```javascript
// PostgreSQL 配置
{
  "database": {
    "type": "postgresql",
    "host": "localhost",
    "port": 5432,
    "username": "fuxa",
    "password": "password",
    "database": "fuxa",
    "max": 20,
    "idleTimeoutMillis": 30000
  }
}
```

### MongoDB 配置

```javascript
// MongoDB 配置
{
  "database": {
    "type": "mongodb",
    "url": "mongodb://localhost:27017",
    "database": "fuxa",
    "options": {
      "useNewUrlParser": true,
      "useUnifiedTopology": true
    }
  }
}
```

---

## 🌐 网络设置

### HTTP 配置

| 设置项 | 说明 | 推荐值 |
|--------|------|--------|
| **端口** | HTTP 端口 | 1881 |
| **启用 HTTPS** | 是否启用 HTTPS | true（生产环境） |
| **HTTPS 端口** | HTTPS 端口 | 1882 |
| **证书路径** | SSL 证书路径 | ./certs/server.crt |
| **密钥路径** | SSL 密钥路径 | ./certs/server.key |

### WebSocket 配置

| 设置项 | 说明 | 推荐值 |
|--------|------|--------|
| **启用 WebSocket** | 是否启用 WebSocket | true |
| **端口** | WebSocket 端口 | 1883 |
| **路径** | WebSocket 路径 | /ws |

### 配置示例

```javascript
// 网络配置
{
  "server": {
    "port": 1881,
    "host": "0.0.0.0"
  },
  "https": {
    "enabled": true,
    "port": 1882,
    "cert": "./certs/server.crt",
    "key": "./certs/server.key"
  },
  "websocket": {
    "enabled": true,
    "port": 1883,
    "path": "/ws"
  }
}
```

---

## 📊 日志设置

### 日志级别

| 级别 | 说明 | 应用场景 |
|------|------|----------|
| **ERROR** | 错误信息 | 生产环境 |
| **WARN** | 警告信息 | 生产环境 |
| **INFO** | 一般信息 | 开发/测试环境 |
| **DEBUG** | 调试信息 | 开发环境 |
| **TRACE** | 详细跟踪 | 调试复杂问题 |

### 日志配置

```javascript
// 日志配置
{
  "logging": {
    "level": "INFO",
    "file": {
      "enabled": true,
      "path": "./logs/fuxa.log",
      "maxSize": "10M",
      "maxFiles": 5
    },
    "console": {
      "enabled": true,
      "colorize": true
    }
  }
}
```

---

## 🔧 故障排除

### 常见问题

#### ❓ 无法启动 FUXA

**可能原因**：
- 端口被占用
- 配置文件错误
- 数据库连接失败

**解决方案**：
1. 检查端口是否被占用
2. 验证配置文件语法
3. 确认数据库连接参数

---

#### ❓ 无法登录

**可能原因**：
- 用户名或密码错误
- 认证服务未启动
- 权限配置错误

**解决方案**：
1. 检查用户名和密码
2. 确认认证服务状态
3. 验证权限配置

---

#### ❓ 邮件发送失败

**可能原因**：
- SMTP 配置错误
- 网络连接问题
- 邮件服务器限制

**解决方案**：
1. 检查 SMTP 配置
2. 验证网络连接
3. 联系邮件服务提供商

---

## 📚 最佳实践

### 1️⃣ 安全配置

- 使用强密码
- 启用 HTTPS
- 定期更新证书
- 限制访问权限

### 2️⃣ 性能优化

- 使用适当的数据库
- 配置连接池
- 优化日志级别
- 定期清理日志

### 3️⃣ 备份策略

- 定期备份数据库
- 备份配置文件
- 测试恢复流程
- 使用版本控制

### 4️⃣ 监控和维护

- 监控系统性能
- 定期检查日志
- 更新系统和依赖
- 制定维护计划

---

## 🎉 总结

通过本教程，您已经学会了：

✅ 访问系统配置  
✅ 配置常规设置  
✅ 配置认证设置  
✅ 配置邮件设置  
✅ 配置数据库设置  
✅ 配置网络设置  
✅ 配置日志设置  
✅ 故障排除  
✅ 应用最佳实践  

现在您可以根据实际需求自定义 FUXA 系统了！

---

## 📚 快速参考

### 数据库类型对照表

| 数据库类型 | 配置参数 | 适用场景 |
|------------|----------|----------|
| **SQLite** | path | 小型系统、开发环境 |
| **MySQL** | host, port, username, password, database | 中型系统 |
| **PostgreSQL** | host, port, username, password, database | 大型系统 |
| **MongoDB** | url, database | 需要灵活数据结构 |

### 日志级别对照表

| 级别 | 严重程度 | 应用场景 |
|------|----------|----------|
| **ERROR** | 最高 | 生产环境 |
| **WARN** | 高 | 生产环境 |
| **INFO** | 中 | 开发/测试环境 |
| **DEBUG** | 低 | 开发环境 |
| **TRACE** | 最低 | 调试复杂问题 |

---

> 💡 **提示**：建议在生产环境中使用 HTTPS、启用认证、配置适当的日志级别，并定期备份数据。

---

**关注我们，获取更多工业自动化技术干货！** 🎯

<div style="display: flex; justify-content: center; align-items: center; gap: 40px; margin: 30px 0;">
    <div style="text-align: center;">
        <img src="images/微信公众号.jpg" alt="微信公众号" style="width: 200px; height: 200px; object-fit: contain;">
        <p style="margin: 10px 0 0 0; font-size: 14px; color: #666;">微信公众号</p>
    </div>
    <div style="text-align: center;">
        <img src="images/单人二维码.png" alt="技术支持" style="width: 200px; height: 200px; object-fit: contain;">
        <p style="margin: 10px 0 0 0; font-size: 14px; color: #666;">技术支持</p>
    </div>
</div>

